<!DOCTYPE html>
<html>
    <head>
        <title>Jenkins : PlasticSCM Plugin</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Jenkins</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Plugins.html">Plugins</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Jenkins : PlasticSCM Plugin
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (dickp)</span>, last modified by <span class='editor'> Unknown User (mig42)</span> on Aug 29, 2019
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Plugin Information </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> View PlasticSCM <a href="https://plugins.jenkins.io/plasticscm-plugin" class="external-link" rel="nofollow">on the plugin site</a> for more information. </p></td>
</tr>
</tbody></table>
This plugin integrates <a href="https://www.plasticscm.com" class="external-link" rel="nofollow">Plastic SCM</a> with Jenkins.</p><h1 id="PlasticSCMPlugin-Version.*|Improvements|Fixes"><style type='text/css'>/*<![CDATA[*/
div.rbtoc1631021944508 {padding: 0px;}
div.rbtoc1631021944508 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1631021944508 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1631021944508'>
<ul class='toc-indentation'>
<li><a href='#PlasticSCMPlugin-Version.*|Improvements|Fixes'></a></li>
<li><a href='#PlasticSCMPlugin-Configuration'>Configuration</a>
<ul class='toc-indentation'>
<li><a href='#PlasticSCMPlugin-Systemconfiguration'>System configuration</a></li>
<li><a href='#PlasticSCMPlugin-Jobconfiguration'>Job configuration</a>
<ul class='toc-indentation'>
<li><a href='#PlasticSCMPlugin-Freestyleprojects'>Freestyle projects</a></li>
<li><a href='#PlasticSCMPlugin-Selectorformat'>Selector format</a></li>
<li><a href='#PlasticSCMPlugin-Multipleworkspaces'>Multiple workspaces</a></li>
<li><a href='#PlasticSCMPlugin-Pipelines'>Pipelines</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#PlasticSCMPlugin-Buildinformation'>Build information</a>
<ul class='toc-indentation'>
<li><a href='#PlasticSCMPlugin-Summary'>Summary</a></li>
<li><a href='#PlasticSCMPlugin-Changeslist'>Changes list</a></li>
<li><a href='#PlasticSCMPlugin-PlasticSCMBuildData'>Plastic SCM Build Data</a></li>
<li><a href='#PlasticSCMPlugin-Environmentvariables'>Environment variables</a></li>
</ul>
</li>
<li><a href='#PlasticSCMPlugin-Requirements'>Requirements</a></li>
<li><a href='#PlasticSCMPlugin-Upgradingfrom2.xto3.x'>Upgrading from 2.x to 3.x</a></li>
<li><a href='#PlasticSCMPlugin-Plugininformation'>Plugin information</a></li>
<li><a href='#PlasticSCMPlugin-Changelog'>Change log</a></li>
</ul>
</div></h1><h1 id="PlasticSCMPlugin-Configuration">Configuration</h1><h2 id="PlasticSCMPlugin-Systemconfiguration">System configuration</h2><p>In order to configure the plugin, you need the <code>cm</code> executable installed in the Jenkins server machine. Then, please follow these steps:</p><ol><li>Open the system configuration page &quot;Manage Jenkins&quot; and navigate to &quot;Configure System&quot;</li><li>Scroll down to the &quot;Plastic SCM&quot; section and enter the path where the <code>cm</code> executable (CLI client) is located</li><li>Click &quot;Check&quot; to verify that the path you set is correct</li><li>You can leave the field empty: &quot;<code>cm</code>&quot; will be used by default (i.e. the executable will be loaded from <code>$PATH</code>)</li></ol><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/57180536/73597099.png" data-image-src="attachments/57180536/73597099.png" data-unresolved-comment-count="0" data-linked-resource-id="73597099" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="manage_jenkins.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/57180536/73597102.png" data-image-src="attachments/57180536/73597102.png" data-unresolved-comment-count="0" data-linked-resource-id="73597102" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="configure_system2.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span> </p><p><br/></p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/57180536/177478495.png" data-image-src="attachments/57180536/177478495.png" data-unresolved-comment-count="0" data-linked-resource-id="177478495" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="configuration-cm.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span></p><h2 id="PlasticSCMPlugin-Jobconfiguration">Job configuration</h2><h3 id="PlasticSCMPlugin-Freestyleprojects">Freestyle projects</h3><p>Scroll down to the Source Code Management section and select &quot;Plastic SCM&quot; (see screenshot below). You'll need to enter a valid <strong>selector</strong>, which will be used to check out the repository contents in every build. The &quot;Poll SCM&quot; trigger also uses that selector.</p><p>Every build will ensure that the Jenkins workspace contains a Plastic SCM before starting the <code>cm update</code> operation. If you'd like to create the PlasticSCM workspace in a particular subdirectory under the Jenkins job workspace, you can specify one in the <strong>Subdirectory</strong> field. This field is mandatory if you want to use multiple workspaces.</p><p>If you want to keep the workspace between builds, check the <strong>Use update</strong> box. Otherwise, the Plastic SCM workspace and its contents will be deleted before each build.</p><p><br/></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="attachments/57180536/177478496.png" data-image-src="attachments/57180536/177478496.png" data-unresolved-comment-count="0" data-linked-resource-id="177478496" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="freestyle-configuration.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span></p><h3 id="PlasticSCMPlugin-Selectorformat">Selector format</h3><p>The selector accepts branches, changesets or labels. You can setup not only branches (which is the normal case), but labels as well as changesets in the selector.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Branch selector</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">repository &quot;myRepo@my.plasticscm.server.com:8087&quot;
  path &quot;/&quot;
    smartbranch &quot;/main/scm1773&quot;</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Changeset selector</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">repository &quot;myRepo@my.plasticscm.server.com:8087&quot;
  path &quot;/&quot;
    smartbranch &quot;/main/scm1773&quot; changeset &quot;7030383&quot;</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>Label selector</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">repository &quot;myRepo@my.plasticscm.server.com:8087&quot;
  path &quot;/&quot;
    label &quot;1.0.32-preview_997&quot;</pre>
</div></div><p>You can also use build parameters in the selector.<br/>Example: Let's say that you defined two build parameters in your project:</p><ul><li><code>branchname</code> - default value (/main)</li><li><code>repositoryname</code> - default value (default)</li></ul><p>Then you can use those parameters in the Plastic SCM selector using the macro pattern <code>$parameter_name</code>:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: xml; gutter: false; theme: Confluence" data-theme="Confluence">repository &#39;$repositoryname&#39;
    path &quot;/&quot;
        smartbranch &#39;$branchname&#39;
</pre>
</div></div><h3 id="PlasticSCMPlugin-Multipleworkspaces">Multiple workspaces</h3><p>The Plastic SCM plugin allows you to checkout multiple workspaces in a single Jenkins workspace. This can be useful if you need to fetch sources from two or more repositories in order to build your application.</p><p>To enable this feature, check the <strong>Use multiple workspaces</strong> box in the SCM configuration. You'll see a new button &quot;Add workspace...&quot; to append a new workspace to the list of additional workspaces. The configuration settings are identical to the root ones.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="attachments/57180536/177478516.png" data-image-src="attachments/57180536/177478516.png" data-unresolved-comment-count="0" data-linked-resource-id="177478516" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="freestyle-configuration-multiple-workspaces.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span></p><p><strong><img class="emoticon emoticon-warning" src="images/icons/emoticons/warning.svg" data-emoticon-name="warning" alt="(warning)"/> Be careful!</strong> <img class="emoticon emoticon-warning" src="images/icons/emoticons/warning.svg" data-emoticon-name="warning" alt="(warning)"/> This setup requires you to specify a subdirectory value <strong>for all workspaces</strong>, and they must be different from one another. If you don't, you might risk having the plugin download the contents from two or more repositories into the same directory.</p><h3 id="PlasticSCMPlugin-Pipelines">Pipelines</h3><p>If you use <a href="https://jenkins.io/doc/book/pipeline/syntax/#scripted-pipeline" class="external-link" rel="nofollow">scripted pipelines</a> or you want to specify the pipeline script directly in the job configuration, you can take advantage of the <code>cm</code> command inside the groovy script:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>cm command syntax</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: groovy; gutter: false; theme: Confluence" data-theme="Confluence">cm branch: &#39;&lt;full-branch-name&gt;&#39;, repository: &#39;&lt;rep-name&gt;&#39;, server: &#39;&lt;server-address&gt;:&lt;server-port&gt;, useUpdate: (true|false), directory: &#39;&lt;subdirectory-name&gt;&#39;
</pre>
</div></div><p>As you see, there's a one-to-one parameter mapping. To use multiple workspaces you simply need to add multiple <code>cm</code> statements, paying attention to the value of the <code>directory</code> parameter.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>cm command example</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: groovy; gutter: false; theme: Confluence" data-theme="Confluence">cm branch: &#39;/hotfix&#39;, repository: &#39;assets-repo&#39;, server: &#39;my.plasticscm.server.com:8087&#39;, useUpdate: true, directory: &#39;assets&#39;
</pre>
</div></div><p><br/></p><p>If you'd rather use declarative pipelines (selecting the <strong>Pipeline script from SCM</strong> option), you'll have to specify the Plastic SCM configuration just as you'd do for a freestyle project. Then, two new parameters will appear: <strong>Script path </strong>and <strong>Lightweight checkout</strong>.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="attachments/57180536/177478520.png" data-image-src="attachments/57180536/177478520.png" data-unresolved-comment-count="0" data-linked-resource-id="177478520" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2019-8-19_12-7-57.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span></p><p>The script path tells Jenkins where to find the pipeline script file. <strong>This path is relative to the Jenkins workspace!</strong> So, if you defined subdirectories (regardless of how many additional repositories you described) you'll need to include the subdirectory in the Script path. See an example below:</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="attachments/57180536/177478526.png" data-image-src="attachments/57180536/177478526.png" data-unresolved-comment-count="0" data-linked-resource-id="177478526" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2019-8-19_12-9-27.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span></p><p>Enabling <strong>lightweight checkout</strong> lets Jenkins retrieve the pipeline script file directly, without a full Plastic SCM update.</p><h1 id="PlasticSCMPlugin-Buildinformation">Build information</h1><h2 id="PlasticSCMPlugin-Summary">Summary</h2><p>The build summary includes a reference to the Plastic SCM changeset spec that was built.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="attachments/57180536/177478527.png" data-image-src="attachments/57180536/177478527.png" data-unresolved-comment-count="0" data-linked-resource-id="177478527" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="build-summary.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span></p><h2 id="PlasticSCMPlugin-Changeslist">Changes list</h2><p>The changes page in each build will have details about each of the changesets that were included in the build, linked from the summary list.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="attachments/57180536/177478533.png" data-image-src="attachments/57180536/177478533.png" data-unresolved-comment-count="0" data-linked-resource-id="177478533" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="changes-summary.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span></p><h2 id="PlasticSCMPlugin-PlasticSCMBuildData">Plastic SCM Build Data</h2><p>You'll find a link in the build page sidebar to display the Plastic SCM data for that build.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="attachments/57180536/177478534.png" data-image-src="attachments/57180536/177478534.png" data-unresolved-comment-count="0" data-linked-resource-id="177478534" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Plastic-SCM-Build-Data.png" data-base-url="https://wiki.jenkins.io" data-linked-resource-content-type="image/png" data-linked-resource-container-id="57180536" data-linked-resource-container-version="49"></span></p><h2 id="PlasticSCMPlugin-Environmentvariables">Environment variables</h2><p>If the checkout operation succeeds, these environment variables will be populated with the appropriate values for the build:</p><p><br/></p><ul><li><code>PLASTICSCM_CHANGESET_ID</code>: Number of the currently built changeset</li><li><code>PLASTICSCM_CHANGESET_GUID</code>: GUID of the currently built changeset</li><li><code>PLASTICSCM_BRANCH</code>: Name of the branch in Plastic SCM</li><li><code>PLASTICSCM_AUTHOR</code>: Name of the user who created the currently build changeset</li><li><code>PLASTICSCM_REPSPEC</code>: The configured repository specification for the current build</li></ul><p>Additional workspaces will include their position in the list, like this:</p><ul><li><code>PLASTICSCM_1_CHANGESET_GUID</code></li><li><code>PLASTICSCM_5_AUTHOR</code></li><li><code>PLASTICSCM_9_CHANGESET_ID</code></li><li>etc.</li></ul><h1 id="PlasticSCMPlugin-Requirements">Requirements</h1><ul><li>Jenkins <code>2.60.3</code> or newer</li><li>Plastic SCM command line client <code>8.0.16.3400</code> or newer</li></ul><h1 id="PlasticSCMPlugin-Upgradingfrom2.xto3.x">Upgrading from 2.x to 3.x</h1><p>The upgrade process is mostly seamless. You'll only need to review the configuration parameters of your jobs <strong>if you configured them to use multiple workspaces</strong>. Since the subdirectory name was inferred from the workspace name before and that parameter is now gone, the <strong>Subdirectory </strong>parameter (used now to specify the subdirectory name explicitly) will be empty. Builds might download all workspaces in the same directory!</p><h1 id="PlasticSCMPlugin-Plugininformation">Plugin information</h1><p>This plugin has been developed by Codice Software S.L., owner of the Plastic SCM product.</p><p>Visit us at <a href="http://www.plasticscm.com" class="external-link" rel="nofollow">http://www.plasticscm.com</a></p><p>You can <a href="https://www.plasticscm.com/company/team" class="external-link" rel="nofollow">meet the team here</a>!</p><p>We really appreciate PR and contributions in the <a href="https://github.com/jenkinsci/plasticscm-plugin" class="external-link" rel="nofollow">plugin GitHub repository</a>.</p><p>Feel the power of merging branches easier than ever with <a href="https://semanticmerge.com/" class="external-link" rel="nofollow">SemanticMerge</a>!</p><h1 id="PlasticSCMPlugin-Changelog">Change log</h1><h2 id="PlasticSCMPlugin-Version3.2">Version 3.2 <time datetime="2019-08-29" class="date-past">29 Aug 2019</time> </h2><h3 id="PlasticSCMPlugin-Fixes">Fixes</h3><ul><li>The REST API returned serialization errors. We adapted the Plastic SCM Build Data class and its dependencies to fix them.</li><li>Changes in version 3.0 had broken compatibility with cloud repositories. It's fixed now.</li><li>If you deleted the last built changeset of a job in the Plastic SCM repository, then all builds of new checked in changesets would fail because they wouln't be able to calculate the change log. Now the plugin will keep going back the build history until it detects a built changeset that still exists.</li></ul><h2 id="PlasticSCMPlugin-Version3.1">Version 3.1 <time datetime="2019-08-26" class="date-past">26 Aug 2019</time> </h2><h3 id="PlasticSCMPlugin-Fixes.1">Fixes</h3><ul><li>SCM Polling was broken in the previous release: deserialization was inconsistent for the command that calculates the new changesets between last build and current polling iteration.</li></ul><h2 id="PlasticSCMPlugin-Version3.0">Version 3.0 <time datetime="2019-08-19" class="date-past">19 Aug 2019</time> </h2><p>Version 3 is out! This new major version enhances build information and improves SCM configuration parameters. Big shout-out to <a href="https://housemarque.com/" class="external-link" rel="nofollow">Housemarque</a>, who contributed enormously to this new batch of changes. Enjoy!</p><p><strong><img class="emoticon emoticon-warning" src="images/icons/emoticons/warning.svg" data-emoticon-name="warning" alt="(warning)"/> Important <img class="emoticon emoticon-warning" src="images/icons/emoticons/warning.svg" data-emoticon-name="warning" alt="(warning)"/>  </strong>Jenkins baseline version is now 2.60.3 and Plastic SCM client minimum version is 8.0.16.3400! Please ensure you have your software up to date before upgrading the Plastic SCM plugin.</p><h3 id="PlasticSCMPlugin-Improvements">Improvements</h3><ul><li>Configuration changed: the Workspace Name parameter was replaced by a new Subdirectory parameter. This allows you full control over where Plastic SCM will download the contens without having to worry about workspace name duplicity. Workspace names are now randomly generated every time the CLI client needs to create a workspace.<ul><li>The Subdirectory parameter has smart validation: it can be empty if there's only a single workspace but required if additional workspaces are selected.</li></ul></li><li>All builds will have a &quot;last changeset info&quot; now, even if an old build is re-run or there aren't any new changes in the Plastic SCM server.</li><li>Show Plastic SCM changeset information in the <em>Job status</em> view.</li><li>Added the <em>Plastic SCM Build Data</em> view</li><li>Configuration forms are protected against CSRF attacks. This ensures that only users with configuration permissions can check/validate repository access.</li><li>Massive code refactoring to match common Java coding standars</li><li>Included Checkstyle to verify code style and quality</li><li>Added translation support to UI snippets</li><li>Added a README file in the GitHub repository with software requirements and instructions about how to develop the plugin</li></ul><h3 id="PlasticSCMPlugin-Fixes.2">Fixes</h3><ul><li>All issues related to workspace name collision are gone now. As detailed in <em>improvements,</em> you'll no longer need to configure workspace names or worry about duplicates. You can specify the actual subdirectory to check out the sources and the workspace name is randomly generated.</li><li>All parameters have a default value when an additional workspace is added.</li><li>Changelog calculations:<ul><li>Branch is now taken into account to show incremental changes</li><li>Fixed issues when the Plastic SCM server and the Jenkins server are in different time zones</li><li>Fixed issues when the build was performed in separate Agents</li></ul></li></ul><h2 id="PlasticSCMPlugin-Version2.23">Version 2.23 <time datetime="2019-07-08" class="date-past">08 Jul 2019</time></h2><p>Since version 2.22, the plugin is using paths instead of names to find out whether a workspace exists. However, that caused an issue with Windows agents that had their root paths specified with forward slashes (such as C:/jenkins/myAgent). This is fixed now.</p><h2 id="PlasticSCMPlugin-Version2.22">Version 2.22 <time datetime="2019-06-26" class="date-past">26 Jun 2019</time></h2><p>Changes in previous version broke how workspace names were set, which was fixed in this release.</p><p>The 'use multiple workspaces' checkbox was broken as well in freestyle and declarative pipeline projects because it was always set as true. Fixed.</p><p>We improved how shared library projects are detected to avoid inconsistent workspace names like 'shl-[number]'.</p><p>We added support for build parameters in Jenkinsfile pipelines that have lightweight checkout enabled.</p><p>The cm path field in the plugin global configuration section now has a validation button.</p><h2 id="PlasticSCMPlugin-Version2.21">Version 2.21 <time datetime="2019-06-12" class="date-past">12 Jun 2019</time></h2><p>There were issues with shared libraries when two or more projects were consuming a single shared library. They were related to the workspace names assigned to the shared library workspace for each project, which turned out to be always the same. We fixed that to make every shared library workspace have its own self-generated workspace name.</p><h2 id="PlasticSCMPlugin-Version2.20">Version 2.20 <time datetime="2018-08-10" class="date-past">10 Aug 2018</time></h2><p>We improved how the plugin reports errors in a Pipeline with Lightweight checkout. Before this, if the Jenkinsfile download failed only a 'NULL' message was printed. Now the complete command execution is displayed.</p><p>Fixed an incompatibility with other plugins if they require the SCM plugin to support the ChangeLogSet.Entry.getAffectedfiles() method.</p><h2 id="PlasticSCMPlugin-Version2.19">Version 2.19 <time datetime="2018-08-07" class="date-past">07 Aug 2018</time></h2><p>Added support to SCM environment variables for pipelines.</p><p>Now, you can check the available ones here: https://&lt;your-jenkins&gt;/env-vars.html</p><h2 id="PlasticSCMPlugin-Version2.18">Version 2.18 <time datetime="2018-07-19" class="date-past">19 Jul 2018</time></h2><ul><li><p>The &quot;${workspace-path} is not in a workspace&quot; error was thrown the next time that Jenkins started a build if the workspace had been previously removed. Fixed.</p></li><li>The find changeset operation used a wrong branch when the specified branch value was different from the default one in parameterized builds. Fixed</li></ul><h2 id="PlasticSCMPlugin-Version2.17">Version 2.17 <time datetime="2018-07-03" class="date-past">03 Jul 2018</time> </h2><ul><li>The checkout process will undo all local changes in the workspace if there are any, to make sure the update operation won't fail.</li><li>The environment variables weren't properly set if the current or previous build checkout failed. Fixed.</li><li>The Plastic SCM plugin didn't work with pipeline projects. This is a regression of 2.16 version. Fixed.</li></ul><h2 id="PlasticSCMPlugin-Version2.16">Version 2.16 <time datetime="2018-06-08" class="date-past">08 Jun 2018</time> </h2><p>The Plastic SCM plugin had a file path issue that prevented it from working as expected when the master and slave instances had different OS. Fixed.</p><h2 id="PlasticSCMPlugin-Version2.15">Version 2.15 <time datetime="2018-05-16" class="date-past">16 May 2018</time> </h2><p><span>The parameters of the plastic workspace name were not correctly resolved. It means, it used the exact workspace name string (e.g. 'Jenkins-${JOB_NAME}-${NODE_NAME}') without resolving the parameters JOB_NAME and NODE_NAME (e.g. 'Jenkins-project-MASTER'). Fixed.</span></p><h2 id="PlasticSCMPlugin-Version2.14">Version 2.14 <time datetime="2018-05-03" class="date-past">03 May 2018</time> </h2><p><span><span>The Plastic SCM plugin</span> can work with multiple plastic workspaces or just a single plastic workspace. Now, the jenkins workspace and the plastic workspace paths will match in the single workspace mode.</span></p><p><span>Therefore, some jenkins features (such as pipeline shared libraries) that need both paths to match will correctly work.</span></p><h2 id="PlasticSCMPlugin-Version2.13">Version 2.13 <time datetime="2018-04-20" class="date-past">20 Apr 2018</time> </h2><ul><li>Added support for the lightweight checkout feature in the pipeline jobs. It requires that the latest version of 'cm' is installed.</li><li>The environment variables were not published when there were no new changes in the build. Fixed.</li></ul><h2 id="PlasticSCMPlugin-Version2.12">Version 2.12 <time datetime="2018-04-10" class="date-past">10 Apr 2018</time> </h2><p>In Blue Ocean, if a build included multiple changesets, only the first one was rendered in the details. Also, the info for the commit and timestamp columns were not filled. Fixed.</p><h2 id="PlasticSCMPlugin-Version2.11">Version 2.11 <time datetime="2018-03-23" class="date-past">23 Mar 2018</time> </h2><p>Reduced the number of duplicated builds that can happen using the Plastic SCM plugin. Now, the scm polling takes into account the current build, avoiding to start a new build for the same changeset.</p><h2 id="PlasticSCMPlugin-Version2.10">Version 2.10 <time datetime="2018-01-11" class="date-past">11 Jan 2018</time> </h2><p>We fixed an issue configuring existing pipeline projects: the PlasticSCM entry didn't appear in the SCM dropdown list if the pipeline was set to get the script from SCM.</p><p>Also, now the Plastic SCM configuration will automatically propose a default workspace name for the first (mandatory) workspace.</p><h2 id="PlasticSCMPlugin-Version2.9">Version 2.9 <time datetime="2017-03-17" class="date-past">17 Mar 2017</time> </h2><p>From now on, each build will publish environment variables containing the data of the built changeset for each configured workspace. These are the variables exposed by the main workspace of the project:</p><ul><li>PLASTICSCM_CHANGESET_ID: Number of the currently built changeset</li><li>PLASTICSCM_CHANGESET_GUID: GUID of the currently built changeset</li><li>PLASTICSCM_BRANCH: Name of the branch in Plastic SCM</li><li>PLASTICSCM_AUTHOR: Name of the user who created the currently build changeset</li><li>PLASTICSCM_REPSPEC: The configured repository specification for the current build</li></ul><p>Additional workspaces will include their position in the list, like this:</p><ul><li>PLASTICSCM_1_CHANGESET_GUID</li><li>PLASTICSCM_5_AUTHOR</li><li>PLASTICSCM_9_CHANGESET_ID</li><li>etc.</li></ul><h2 id="PlasticSCMPlugin-Version2.8">Version 2.8 <time datetime="2017-02-16" class="date-past">16 Feb 2017</time> </h2><ul><li>The required core version is now 1.580.1</li><li>Added support for pipelines</li><li>Fixed builds being triggered if connection with the Plastic SCM server was lost.</li><li>Plastic SCM commands will be retried 3 times from now on, waiting 0.5 seconds between retries.</li></ul><p>The pipeline script syntax for Plastic SCM is:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">cm branch: &#39;&lt;full-branch-name&gt;&#39;, changelog: (true|false), poll: (true|false), repository: &#39;&lt;rep-name&gt;&#39;, server: &#39;&lt;server-address&gt;:&lt;server-port&gt;, useUpdate: (true|false), workspaceName: &#39;&lt;wk-name-using-jenkins-variables&gt;&#39;
</pre>
</div></div><p>For example:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">cm branch: &#39;/main&#39;, changelog: true, poll: true, repository: &#39;default&#39;, server: &#39;localhost:8087&#39;, useUpdate: true, workspaceName: &#39;Jenkins-${JOB_NAME}-${NODE_NAME}&#39;
</pre>
</div></div><h2 id="PlasticSCMPlugin-Version2.7">Version 2.7 <time datetime="2016-10-10" class="date-past">10 Oct 2016</time></h2><ul><li>Fixed a problem causing parameterized builds to have their workspaces deleted before each build run.</li></ul><h2 id="PlasticSCMPlugin-Version2.6">Version 2.6 <time datetime="2016-07-26" class="date-past">26 Jul 2016</time></h2><ul><li>Replaced all relative paths (implicit or explicit) with full, explicit paths. This fixed several issues on Mac OS X since apparently the current working directory for VCS commands is being set to '/' by Jenkins.</li></ul><h2 id="PlasticSCMPlugin-Version2.5">Version 2.5 <time datetime="2016-04-25" class="date-past">25 Apr 2016</time></h2><ul><li>Cross-platform setups (linux server + windows agents) were deleting workspaces before each build, regardless of the actual &quot;Use update&quot; checkbox value. Fixed.</li></ul><h2 id="PlasticSCMPlugin-Version2.4">Version 2.4 <time datetime="2016-02-29" class="date-past">29 Feb 2016</time> </h2><ul><li>Workspaces were being deleted before each build on Windows, regardless of the actual value of the &quot;Use update&quot; checkbox. Fixed.</li></ul><h2 id="PlasticSCMPlugin-Version2.3">Version 2.3 <time datetime="2015-10-21" class="date-past">21 Oct 2015</time></h2><ul><li>Added build parameters support in the Plastic SCM selector. Jenkins allows to define build parameters (<a href="https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Build" class="external-link" rel="nofollow">https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Build</a>), and Plastic SCM now can use those parameters in its selector.<br/>IMPORTANT NOTE: When using parametrized builds, maybe the Poll SCM feature may not work as expected because Jenkins performs the poll with the LAST USED workspace. So maybe the selector is not placed in the branch you expect the poll is performed.<br/>When using parametrized builds we recommend setting up two Jenkins projects:<ul><li>One for the parametrized build</li><li>Other, with an static selector to perform the poll.</li></ul></li></ul><ul><li>Fixed: When a changeset was a result of a merge, Jenkins was not able to properly present modified elements in 'Changes' chapter.</li></ul><h2 id="PlasticSCMPlugin-Version2.2">Version 2.2 <time datetime="2014-12-09" class="date-past">09 Dec 2014</time></h2><ul><li>The Jenkins workspaces now support multiple Plastic SCM workspaces.</li></ul><h2 id="PlasticSCMPlugin-Version2.1">Version 2.1 <time datetime="2014-09-02" class="date-past">02 Sep 2014</time></h2><ul><li>Fixed an issue related to the non-ASCII characters included on the date on some cultures such as Korean culture.</li><li>Support labels and changesets in the Plastic SCM selector.</li><li>The plugin did not reuse Plastic SCM workspaces correctly when the 'Use update' preference was set. Fixed.</li></ul><h2 id="PlasticSCMPlugin-Version2.0">Version 2.0 <time datetime="2012-01-20" class="date-past">20 Jan 2012</time></h2><ul><li>Plugin adapted to Plastic SCM version 4.</li></ul><h2 id="PlasticSCMPlugin-Version1.0">Version 1.0 <time datetime="2011-03-29" class="date-past">29 Mar 2011</time></h2><ul><li>Initial version.</li></ul><p><br/></p><p><br/></p><p><br/></p><p><br/></p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/73597099.png">manage_jenkins.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/73597101.png">configure_system.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/73597100.png">configure_system.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/73597102.png">configure_system2.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/73597103.png">plastic_configuration.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/84246543.png">selector.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/73597104.png">selector.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478495.png">configuration-cm.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478515.png">freestyle-configuration.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478496.png">freestyle-configuration.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478516.png">freestyle-configuration-multiple-workspaces.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478518.png">image2019-8-19_12-6-19.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478519.png">image2019-8-19_12-7-35.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478520.png">image2019-8-19_12-7-57.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478526.png">image2019-8-19_12-9-27.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478527.png">build-summary.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478533.png">changes-summary.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/57180536/177478534.png">Plastic-SCM-Build-Data.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 07, 2021 13:39</p>
                    <div id="footer-logo"><a href="/display/">Wiki home</a></div>
                </section>
            </div>
        </div>     </body>
</html>
